// level3.cpp

// Programmed by Spencer T. Parkin

#include <glut.h>
#include "map.h"
#include "macros.h"
#include "texture.h"
#include "switch.h"
#include "door.h"
#include "orb.h"
#include "healthpack.h"

static void level4_switch(SwitchState state, void *data[2])
{
	Door *d = (Door *)data[0];
	if(state == SWITCH_STATE_ON)
		d->UnlockDoor();
	else
		d->LockDoor();
}

construct level3_map_constructs[] =
{
	/* 000 */ {CONSTRUCT_CELL, -1, -1, {0.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 001 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -1.f, 2.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 002 */ {CONSTRUCT_WALL, -1, -1, {-1.f, 2.f, 2.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 003 */ {CONSTRUCT_PORTAL, 142, -1, {-1.f, -1.f, -1.f, 2.f, -6.f, 1.f, -PI / 2.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 004 */ {CONSTRUCT_PORTAL, 9, -1, {2.f, -1.f, 2.f, 2.f, 3.f, 0.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 005 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 006 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 007 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 008 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 009 */ {CONSTRUCT_CELL, -1, -1, {1.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 010 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -4.f, -1.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 011 */ {CONSTRUCT_WALL, -1, -1, {2.f, -1.f, 2.f, -4.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 012 */ {CONSTRUCT_WALL, -1, -1, {-1.f, 2.f, -1.f, 5.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 013 */ {CONSTRUCT_WALL, -1, -1, {2.f, 2.f, 2.f, 7.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 014 */ {CONSTRUCT_PORTAL, 0, -1, {-1.f, -1.f, -1.f, 2.f, -3.f, 0.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 015 */ {CONSTRUCT_PORTAL, 22, -1, {2.f, -1.f, 2.f, 2.f, 5.f, 0.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 016 */ {CONSTRUCT_PORTAL, 82, -1, {-1.f, 5.f, 2.f, 7.f, -1.f, 7.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 017 */ {CONSTRUCT_PORTAL, 183, -1, {-1.f, -4.f, 2.f, -4.f, 1.f, -6.f, PI / 2.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 018 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 019 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 020 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 021 */ {CONSTRUCT_SNOWMAN, 109, -1, {0.5f, 0.5f, 0.f}, 0, TEX_ID_SNOW_MAN_0, TEX_ID_SNOW_MAN_1},

	/* 022 */ {CONSTRUCT_CELL, -1, -1, {2.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 023 */ {CONSTRUCT_WALL, -1, -1, {-3.f, 2.f, 3.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 024 */ {CONSTRUCT_WALL, -1, -1, {-3.f, -1.f, 3.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 025 */ {CONSTRUCT_PORTAL, 9, -1, {-3.f, -1.f, -3.f, 2.f, -5.f, 0.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 026 */ {CONSTRUCT_PORTAL, 31, -1, {3.f, -1.f, 3.f, 2.f, 5.f, 1.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 027 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 028 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 029 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 030 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 031 */ {CONSTRUCT_CELL, -1, -1, {3.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 032 */ {CONSTRUCT_WALL, -1, -1, {-2.f, 1.f, -2.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 033 */ {CONSTRUCT_WALL, -1, -1, {2.f, -2.f, 2.f, 3.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 034 */ {CONSTRUCT_WALL, -1, -1, {-2.f, -2.f, 1.f, -5.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 035 */ {CONSTRUCT_PORTAL, 22, -1, {-2.f, -2.f, -2.f, 1.f, -5.f, -1.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 036 */ {CONSTRUCT_PORTAL, 173, -1, {-2.f, 2.f, -1.f, 5.f, -3.f, 12.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 037 */ {CONSTRUCT_PORTAL, 72, -1, {0.f, 5.f, 2.f, 3.f, 5.f, 4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 038 */ {CONSTRUCT_PORTAL, 43, -1, {1.f, -5.f, 2.f, -2.f, 5.f, -4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 039 */ {CONSTRUCT_WALL, -1, -1, {-1.f, 5.f, 0.f, 5.f, 0.f, 1.f}, 0, TEX_ID_BOOK_SHELF_0, TEX_ID_NONE},
	/* 040 */ {CONSTRUCT_HEALTH_PACK, -1, -1, {0.f, 0.f, (float)MEGA_HEALTH_PACK}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 041 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 042 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 043 */ {CONSTRUCT_CELL, -1, -1, {4.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 044 */ {CONSTRUCT_WALL, -1, -1, {-4.f, -1.f, 5.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 045 */ {CONSTRUCT_WALL, -1, -1, {-3.f, 2.f, 2.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 046 */ {CONSTRUCT_PORTAL, 31, -1, {-4.f, -1.f, -3.f, 2.f, -5.f, 4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 047 */ {CONSTRUCT_PORTAL, 52, -1, {2.f, 2.f, 5.f, -1.f, 3.f, 4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 048 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 049 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 050 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 051 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 052 */ {CONSTRUCT_CELL, -1, -1, {5.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 053 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -2.f, -1.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 054 */ {CONSTRUCT_WALL, -1, -1, {-1.f, 2.f, -1.f, 3.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 055 */ {CONSTRUCT_WALL, -1, -1, {2.f, -5.f, 2.f, 6.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 056 */ {CONSTRUCT_DOOR, 63, 67, {-1.f, -1.f, -1.f, 2.f, 1.f, -3.f, 0.f, 0.f}, 0, TEX_ID_LEFT_DOOR_5, TEX_ID_RIGHT_DOOR_5},
	/* 057 */ {CONSTRUCT_PORTAL, 43, -1, {-1.f, -2.f, 2.f, -5.f, -3.f, -4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 058 */ {CONSTRUCT_PORTAL, 72, -1, {-1.f, 3.f, 2.f, 6.f, -3.f, 4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 059 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 060 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 061 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 062 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 063 */ {CONSTRUCT_CELL, -1, -1, {6.f, 0.f, 1.f, 0.f}, 0, TEX_ID_MOON_0, TEX_ID_PLANET_0},
	/* 064 */ {CONSTRUCT_WALL, -1, -1, {-2.f, -1.f, 2.f, -1.f, 0.f, 0.f}, 0, TEX_ID_BRICK_WALL_0, TEX_ID_NONE},
	/* 065 */ {CONSTRUCT_WALL, -1, -1, {-2.f, 2.f, 2.f, 2.f, 0.f, 0.f}, 0, TEX_ID_BRICK_WALL_0, TEX_ID_NONE},
	/* 066 */ {CONSTRUCT_WALL, -1, -1, {-2.f, -1.f, -2.f, 2.f, 0.f, 0.f}, 0, TEX_ID_BRICK_WALL_0, TEX_ID_NONE},
	/* 067 */ {CONSTRUCT_DOOR, 52, 56, {2.f, -1.f, 2.f, 2.f, 1.f, 3.f, 0.f, 0.f}, 0, TEX_ID_LEFT_DOOR_0, TEX_ID_RIGHT_DOOR_0},
	/* 068 */ {CONSTRUCT_KEY, 107, -1, {-0.5f, 0.5f, 1.f, 0.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 069 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 070 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 071 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 072 */ {CONSTRUCT_CELL, -1, -1, {7.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 073 */ {CONSTRUCT_WALL, -1, -1, {-3.f, -1.f, 2.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 074 */ {CONSTRUCT_WALL, -1, -1, {-5.f, 1.f, -5.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 075 */ {CONSTRUCT_WALL, -1, -1, {-5.f, 2.f, 5.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 076 */ {CONSTRUCT_PORTAL, 31, -1, {-3.f, -1.f, -5.f, 1.f, -5.f, -4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 077 */ {CONSTRUCT_PORTAL, 52, -1, {2.f, -1.f, 5.f, 2.f, 3.f, -4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 078 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 079 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 080 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 081 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 082 */ {CONSTRUCT_CELL, -1, -1, {8.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 083 */ {CONSTRUCT_WALL, -1, -1, {0.f, -2.f, -3.f, 1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 084 */ {CONSTRUCT_WALL, -1, -1, {0.f, 3.f, 3.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 085 */ {CONSTRUCT_PORTAL, 9, -1, {0.f, -2.f, 3.f, 0.f, 1.f, -7.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 086 */ {CONSTRUCT_PORTAL, 91, -1, {-3.f, 1.f, 0.f, 3.f, -2.f, 4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 087 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 088 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 089 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 090 */ {CONSTRUCT_BLOB, 109, -1, {0.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 091 */ {CONSTRUCT_CELL, -1, -1, {9.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 092 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -3.f, -1.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 093 */ {CONSTRUCT_WALL, -1, -1, {2.f, -1.f, 2.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 094 */ {CONSTRUCT_PORTAL, 82, -1, {-1.f, -3.f, 2.f, -1.f, 2.f, -4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 095 */ {CONSTRUCT_PORTAL, 100, -1, {-1.f, 2.f, 2.f, 2.f, 4.f, 3.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 096 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 097 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 098 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 099 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 100 */ {CONSTRUCT_CELL, -1, -1, {10.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 101 */ {CONSTRUCT_WALL, -1, -1, {-5.f, -1.f, -5.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 102 */ {CONSTRUCT_WALL, -1, -1, {-5.f, 2.f, 1.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 103 */ {CONSTRUCT_WALL, -1, -1, {2.f, -1.f, 4.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 104 */ {CONSTRUCT_WALL, -1, -1, {4.f, -1.f, 4.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 105 */ {CONSTRUCT_PORTAL, 91, -1, {-5.f, -1.f, -2.f, -1.f, -4.f, -3.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 106 */ {CONSTRUCT_PORTAL, 112, -1, {-1.f, -1.f, 2.f, -1.f, 1.f, -3.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 107 */ {CONSTRUCT_DOOR, 192, 195, {1.f, 2.f, 4.f, 2.f, 1.f, 2.f, 5.f, 0.f}, 0, TEX_ID_LEFT_DOOR_4, TEX_ID_RIGHT_DOOR_4},
	/* 108 */ {CONSTRUCT_WALL, -1, -1, {-2.f, -1.f, -1.f, -1.f, 0.f, 1.f}, 0, TEX_ID_BOOK_SHELF_0, TEX_ID_STONE_WALL_1},
	/* 109 */ {CONSTRUCT_SPENCER, -1, -1, {0.5f, 0.f, 3.f * PI / 2.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 110 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 111 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 112 */ {CONSTRUCT_CELL, -1, -1, {11.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 113 */ {CONSTRUCT_WALL, -1, -1, {-2.f, -1.f, -2.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 114 */ {CONSTRUCT_WALL, -1, -1, {1.f, 0.f, 1.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 115 */ {CONSTRUCT_WALL, -1, -1, {-2.f, -1.f, 0.f, -3.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 116 */ {CONSTRUCT_PORTAL, 100, -1, {-2.f, 2.f, 1.f, 2.f, -1.f, 3.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 117 */ {CONSTRUCT_PORTAL, 122, -1, {0.f, -3.f, 1.f, 0.f, 5.f, -2.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 118 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 119 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 120 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 121 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 122 */ {CONSTRUCT_CELL, -1, -1, {12.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 123 */ {CONSTRUCT_WALL, -1, -1, {-4.f, 2.f, 3.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 124 */ {CONSTRUCT_WALL, -1, -1, {-5.f, -1.f, -3.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 125 */ {CONSTRUCT_WALL_SWITCH, 206, -1, {-3.f, -1.f, -1.f, -1.f, 0.f, 0.f}, level4_switch, TEX_ID_WALL_SWITCH_ON_0, TEX_ID_WALL_SWITCH_OFF_0},
	/* 126 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -1.f, 5.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 127 */ {CONSTRUCT_PORTAL, 112, -1, {-5.f, -1.f, -4.f, 2.f, -5.f, 2.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 128 */ {CONSTRUCT_PORTAL, 133, -1, {3.f, 2.f, 5.f, -1.f, 6.f, 2.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 129 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 130 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 131 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 132 */ {CONSTRUCT_HEALTH_PACK, -1, -1, {0.f, 0.f, (float)SMALL_HEALTH_PACK}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 133 */ {CONSTRUCT_CELL, -1, -1, {13.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 134 */ {CONSTRUCT_WALL, -1, -1, {-3.f, 0.f, 0.f, 3.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 135 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -3.f, 3.f, 1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 136 */ {CONSTRUCT_PORTAL, 122, -1, {-3.f, 0.f, -1.f, -3.f, -6.f, -2.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 137 */ {CONSTRUCT_PORTAL, 142, -1, {0.f, 3.f, 3.f, 1.f, 1.f, 7.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 138 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 139 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 140 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 141 */ {CONSTRUCT_SNOWMAN, 109, -1, {0.f, 0.f, 0.f}, 0, TEX_ID_SNOW_MAN_0, TEX_ID_SNOW_MAN_1},

	/* 142 */ {CONSTRUCT_CELL, -1, -1, {14.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 143 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -4.f, -1.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 144 */ {CONSTRUCT_WALL, -1, -1, {-1.f, 2.f, -1.f, 5.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 145 */ {CONSTRUCT_WALL, -1, -1, {2.f, -6.f, 2.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 146 */ {CONSTRUCT_WALL, -1, -1, {2.f, 2.f, 2.f, 5.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 147 */ {CONSTRUCT_PORTAL, 155, -1, {-1.f, -1.f, -1.f, 2.f, -2.f, 1.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 148 */ {CONSTRUCT_PORTAL, 183, -1, {2.f, -1.f, 2.f, 2.f, 3.f, 0.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 149 */ {CONSTRUCT_PORTAL, 133, -1, {-1.f, -4.f, 2.f, -6.f, -1.f, -7.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 150 */ {CONSTRUCT_PORTAL, 0, -1, {-1.f, 5.f, 2.f, 5.f, 1.f, 6.f, PI / 2.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 151 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 152 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 153 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 154 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 155 */ {CONSTRUCT_CELL, -1, -1, {15.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 156 */ {CONSTRUCT_WALL, -1, -1, {-3.f, 1.f, 1.f, 1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 157 */ {CONSTRUCT_WALL, -1, -1, {0.f, -2.f, 1.f, -2.f, 0.f, 1.f}, 0, TEX_ID_BOOK_SHELF_0, TEX_ID_NONE},
	/* 158 */ {CONSTRUCT_PORTAL, 164, -1, {0.f, -2.f, -3.f, 1.f, -3.f, -2.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 159 */ {CONSTRUCT_PORTAL, 142, -1, {1.f, -2.f, 1.f, 1.f, 2.f, -1.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 160 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 161 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 162 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 163 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 164 */ {CONSTRUCT_CELL, -1, -1, {16.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 165 */ {CONSTRUCT_WALL, -1, -1, {0.f, -3.f, 3.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 166 */ {CONSTRUCT_WALL, -1, -1, {-3.f, 0.f, 0.f, 3.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 167 */ {CONSTRUCT_PORTAL, 173, -1, {-3.f, 0.f, 0.f, -3.f, -2.f, -4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 168 */ {CONSTRUCT_PORTAL, 155, -1, {3.f, 0.f, 0.f, 3.f, 3.f, 2.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 169 */ {CONSTRUCT_KEY, 56, -1, {0.f, 0.f, 0.f, 0.f, 1.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 170 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 171 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 172 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 173 */ {CONSTRUCT_CELL, -1, -1, {17.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 174 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -7.f, -1.f, 4.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 175 */ {CONSTRUCT_WALL, -1, -1, {2.f, -7.f, 2.f, 1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 176 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -7.f, 1.f, -10.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 177 */ {CONSTRUCT_PORTAL, 164, -1, {-1.f, 4.f, 2.f, 1.f, 2.f, 4.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 178 */ {CONSTRUCT_PORTAL, 31, -1, {1.f, -10.f, 2.f, -7.f, 3.f, -12.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 179 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 180 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 181 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 182 */ {CONSTRUCT_SNOWMAN, 109, -1, {0.f, 0.f, 0.f}, 0, TEX_ID_SNOW_MAN_0, TEX_ID_SNOW_MAN_1},

	/* 183 */ {CONSTRUCT_CELL, -1, -1, {18.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 184 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -1.f, 2.f, -1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 185 */ {CONSTRUCT_WALL, -1, -1, {-1.f, 2.f, 2.f, 2.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 186 */ {CONSTRUCT_PORTAL, 142, -1, {-1.f, -1.f, -1.f, 2.f, -3.f, 0.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 187 */ {CONSTRUCT_PORTAL, 9, -1, {2.f, -1.f, 2.f, 2.f, 6.f, 1.f, -PI / 2.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 188 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 189 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 190 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 191 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 192 */ {CONSTRUCT_CELL, -1, -1, {19.f, 0.f, 0.f, 0.f}, 0, TEX_ID_STONE_FLOOR_0, TEX_ID_ROCKS_0},
	/* 193 */ {CONSTRUCT_WALL, -1, -1, {-1.f, -3.f, -1.f, 1.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 194 */ {CONSTRUCT_WALL, -1, -1, {2.f, -3.f, 2.f, 4.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 195 */ {CONSTRUCT_DOOR, 100, 107, {-1.f, -3.f, 2.f, -3.f, 1.f, -2.f, -5.f, 0.f}, 0, TEX_ID_LEFT_DOOR_0, TEX_ID_RIGHT_DOOR_0},
	/* 196 */ {CONSTRUCT_DOOR, 201, 206, {-1.f, 1.f, -1.f, 4.f, 1.f, -4.f, 0.f, 0.f}, 0, TEX_ID_LEFT_DOOR_2, TEX_ID_RIGHT_DOOR_2},
	/* 197 */ {CONSTRUCT_WALL, -1, -1, {-1.f, 4.f, 2.f, 4.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_STONE_WALL_1},
	/* 198 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 199 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 200 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},

	/* 201 */ {CONSTRUCT_CELL, -1, -1, {20.f, 0.f, 0.f, 0.f}, 0, TEX_ID_MOON_0, TEX_ID_MOSAIC_0},
	/* 202 */ {CONSTRUCT_WALL, -1, -1, {3.f, -1.f, 3.f, -3.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 203 */ {CONSTRUCT_WALL, -1, -1, {3.f, -3.f, -1.f, -3.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 204 */ {CONSTRUCT_WALL, -1, -1, {-3.f, -1.f, -3.f, 4.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 205 */ {CONSTRUCT_WALL, -1, -1, {-3.f, 4.f, 3.f, 4.f, 0.f, 0.f}, 0, TEX_ID_STONE_WALL_1, TEX_ID_NONE},
	/* 206 */ {CONSTRUCT_DOOR, 192, 196, {3.f, 1.f, 3.f, 4.f, 1.f, 4.f, 0.f, 0.f}, 0, TEX_ID_LEFT_DOOR_3, TEX_ID_RIGHT_DOOR_3},
	/* 207 */ {CONSTRUCT_CAMERA, 109, -1, {0.f, 0.f, 0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 208 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 209 */ {CONSTRUCT_FUDGE, -1, -1, {0.f}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 210 */ {CONSTRUCT_ORB, -1, -1, {0.f, 0.f, (float)ORB_OF_BRADY}, 0, TEX_ID_NONE, TEX_ID_NONE},
	/* 211 */ {CONSTRUCT_WALL, -1, -1, {-3.f, -3.f, -1.f, -3.f, 0.f, 0.f}, 0, TEX_ID_WAYNE_BRADY_0, TEX_ID_NONE},
	/* 212 */ {CONSTRUCT_WALL, -1, -1, {-3.f, -3.f, -3.f, -1.f, 0.f, 0.f}, 0, TEX_ID_WAYNE_BRADY_2, TEX_ID_NONE},
	/* 213 */ {CONSTRUCT_WALL, -1, -1, {2.99f, 1.f, 2.99f, -1.f, 0.f, 0.f}, 0, TEX_ID_WAYNE_BRADY_1, TEX_ID_NONE},
};

map level3_map =
{
	level3_map_constructs,
	sizeof(level3_map_constructs) / sizeof(construct),
	DYNAMIC_CELL_MODE,
};

// endof level3.cpp